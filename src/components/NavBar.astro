---
import "@/styles/global.css";
import "tailwindcss";
import { Button } from "./ui/button";
import { ChevronDown } from "lucide-react";
import { dummyProgram } from "../data/programs";

const route = Astro.url.pathname;
const solidColorPath = ["/galery/", "/article/"];
const bgColor = solidColorPath.some((path) => route.startsWith(path)) ? "#171826" : "rgba(0, 0, 0, 0)";
---

<nav class= "absolute flex justify-center top-0 left-0 w-full z-20" style={`background-color: ${bgColor}`}>
  <div class="gap-16 w-full h-20 px-8 py-6 flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="text-2xl font-bold text-white">
      <img src="/mask-group.svg" alt="Yukari Logo" class="w-35 h-20" />
    </a>

    <!-- Menu NavBar -->
    <div
      class="lg:flex lg:gap-x-10 max-lg:space-y-3 max-lg:fixed max-lg:bg-transparant max-lg:w-2/3 max-lg:min-w-[280px] max-lg:top-0 max-lg:left-0 max-lg:p-4 max-lg:h-full max-lg:shadow-md max-lg:overflow-auto"
    >
      <ul
        class="lg:flex lg:gap-x-10 max-lg:space-y-3 max-lg:fixed max-lg:bg-transparant max-lg:w-2/3 max-lg:min-w-[280px] max-lg:top-0 max-lg:left-0 max-lg:p-4 max-lg:h-full max-lg:shadow-md max-lg:overflow-auto z-50"
      >
        <li
          class="max-lg:border-b max-lg:border-gray-300 max-lg:px-3 max-lg:py-3"
        >
          <a
            href="/"
            class="text-[#FFFFFF] font-rethink block font-medium text-[15px]"
            >Beranda</a>
        </li>
        <li
          class="max-lg:border-b max-lg:border-gray-300 max-lg:px-3 max-lg:py-3"
        >
          <a
            href="/about/"
            class="text-[#FFFFFF] font-rethink font-medium text-[15px] block"
            >Tentang Kami</a>
      </li>
        <li
          class="group max-lg:border-b max-lg:border-gray-300 max-lg:px-3 max-lg:py-3 relative"
        >
          <a
            href="/program/"
            class="text-[#FFFFFF] font-medium font-rethink text-[15px] flex items-center"
            >Program<ChevronDown height={12} width={12}/>
          </a>

          <ul
            class="absolute top-10 max-lg:top-8 left-0 z-50 block space-y-2 shadow-lg bg-[#00000066] max-h-0 overflow-hidden min-w-[200px] group-hover:opacity-100 group-hover:max-h-[700px] px-6 group-hover:pb-4 group-hover:pt-6 transition-all duration-[400ms]"
          >
            {dummyProgram.map((program)=>(
              <li class="py-3">
              <a
                href={"/program/" + program.slug}
                class="text-[#FFFFFF] font-rethink font-normal text-[15px] flex items-center"
              >
                {program.title}
              </a>
            </li>
            ))}
          </ul>
        </li>

        <li
          class="max-lg:border-b max-lg:border-gray-300 max-lg:px-3 max-lg:py-3"
        >
          <a
            href="/galery/"
            class="text-[#FFFFFF] font-rethink font-medium text-[15px] block"
            >Galeri</a>
        </li>
        <li
          class="max-lg:border-b max-lg:border-gray-300 max-lg:px-3 max-lg:py-3"
        >
          <a
            href="/article/"
            class="text-[#FFFFFF] font-rethink font-medium text-[15px] block"
            >Artikel</a>
      </li>
      </ul>
    </div>

    <div class="space-x-8">
      <a href="/contact/">
        <Button
          variant={"outline"}
          className="border-2 bg-transparent rounded-none text-white font-normal font-mono px-3 py-5 uppercase"
          >Hubungi Kami</Button
        >
      </a>
      <a href="/regis/">
        <Button
          variant={"default"}
          className="bg-[#AB0103] rounded-none text-white font-normal font-mono px-3 py-6 uppercase"
          >Daftar Sekarang</Button
        >
      </a>
    </div>
  </div>
</nav>
